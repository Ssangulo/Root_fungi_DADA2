source("https://raw.githubusercontent.com/microbiome/OMA/master/install_packages.R")
install.packages(c("ggplot2", "sf"))
install.packages(c("ggplot2", "sf"))
library(ggplot2)
library(sf)
world_map <- map_data("world")
world_map <- map_data("world")
world_map <- map_data("world")
colombia <- subset(world_map, region == "Colombia")
install.packages(sf)
install.packages("sf")
install.packages("terra")
install.packages("dplyr")
install.packages("dplyr")
install.packages("spData")
install.packages("spDataLarge")
library(sf)
library(terra)
library(dplyr)
library(spData)
library(spDataLarge)
install.packages("spDataLarge")
library(spDataLarge)
library(spData)
library(spDataLarge)
library("spDataLarge")
library(spDataLarge)
install.packages("spDataLarge")
install.packages("tmap", repos = c("https://r-tmap.r-universe.dev",
"https://cloud.r-project.org"))
library(tmap)    # for static and interactive maps
library(leaflet) # for interactive maps
library(ggplot2) # tidyverse data visualization package
library(leaflet) # for interactive maps
library(ggplot2) # tidyverse data visualization package
nz_elev = rast(system.file("raster/nz_elev.tif", package = "spDataLarge"))
nz_elev = rast(system.file("raster/nz_elev.tif", package = "spDataLarge"))
install.packages("spDataLarge")
nz_elev = rast(system.file("raster/nz_elev.tif", package = "spDataLarge"))
nz_elev = rast(system.file("raster/nz_elev.tif", package = "spDataLarge"))
install.packages("spDataLarge", repos = "https://nowosad.r-universe.dev")
install.packages(c("rnaturalearth", "raster"))
install.packages(c("rnaturalearth", "raster"))
library(rnaturalearth)
library(raster)
#Download colombia boundary data
colombia <- ne_countries(country = "Colombia", returnclass = "sf")
# Download SRTM data for Colombia
url <- "http://e4ftl01.cr.usgs.gov/SRTM/SRTMGL1.003/2000.02.11/Colombia_1ARC_v3/ColombiaSRTM1km.tif"
elevation_data <- raster(url)
#Download colombia boundary data
colombia <- ne_countries(country = "Colombia", returnclass = "sf")
# Download SRTM data for Colombia
url <- "http://e4ftl01.cr.usgs.gov/SRTM/SRTMGL1.003/2000.02.11/Colombia_1ARC_v3/ColombiaSRTM1km.tif"
elevation_data <- raster(url)
# Create a basic map of Colombia
tm_shape(colombia) +
tm_borders() +
tm_layout(main.title = "Map of Colombia with Elevation") +
tm_shape(colombia_elevation) +
tm_raster()  # Add elevation data as a raster layer
# Create a basic map of Colombia
tm_shape(colombia) +
tm_borders() +
tm_layout(main.title = "Map of Colombia with Elevation") +
tm_shape(colombia_elevation) +
tm_raster()  # Add elevation data as a raster layer
#| echo: false
library(knitr)
tab_s12 <- read.csv("tables/Table_S12_NRI_NTI_median_IQR.csv")
kable(tab_s12,
caption = "Table S12. Median (IQR) of NRI and NTI across habitats, calculated using abundance-weighted (aw) and presence–absence (pa) metrics. Positive values indicate phylogenetic clustering relative to null expectations.")
#| echo: false
library(knitr)
tab_s13 <- read.csv("tables/Table_S13_NRI_NTI_ANOVA.csv")
kable(tab_s13, digits = 4,
caption = "Table S13. ANOVA summaries for linear models of abundance-weighted NTI and NRI (habitat + site).")
#| echo: false
library(knitr)
tab_s8_helot <- read.csv("tables/Table_S8_betareg_helotiales.csv")
kable(tab_s8_helot, digits = 4,
caption = "Table S8a. Beta regression summary for helotiales (mean model coefficients and precision (phi)).")
#| echo: false
tab_s8_seba <- read.csv("tables/Table_S8_betareg_sebacinales.csv")
kable(tab_s8_seba, digits = 4,
caption = "Table S8b. Beta regression summary for sebacinales (mean model coefficients and precision (phi)).")
#| echo: false
library(knitr)
tab_s12 <- read.csv("tables/Table_S12_NRI_NTI_median_IQR.csv")
kable(tab_s12,
caption = "Table S12. Median (IQR) of NRI and NTI across habitats, calculated using abundance-weighted (aw) and presence–absence (pa) metrics. Positive values indicate phylogenetic clustering relative to null expectations.")
#| echo: false
library(knitr)
tab_s13 <- read.csv("tables/Table_S13_NRI_NTI_ANOVA.csv")
kable(tab_s13, digits = 4,
caption = "Table S13. ANOVA summaries for linear models of abundance-weighted NTI and NRI (habitat + site).")
#| echo: false
library(knitr)
tab_s8_helot <- read.csv("tables/Table_S8_betareg_helotiales.csv")
kable(tab_s8_helot, digits = 4,
caption = "Table S8a. Beta regression summary for helotiales (mean model coefficients and precision (phi)).")
#| echo: false
tab_s8_seba <- read.csv("tables/Table_S8_betareg_sebacinales.csv")
kable(tab_s8_seba, digits = 4,
caption = "Table S8b. Beta regression summary for sebacinales (mean model coefficients and precision (phi)).")
#| echo: false
library(knitr)
tab_s8_helot <- read.csv("tables/Table_S8_betareg_helotiales.csv")
kable(tab_s8_helot, digits = 4,
caption = "Table S8a. Beta regression summary for helotiales (mean model coefficients and precision (phi)).")
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Figure S4 and Table S4 (executed on server)"
#Running dbRDA with robust aitchison
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Figure S4 and Table S4 (executed on server)"
#Running dbRDA with robust aitchison
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Figure S4 and Table S4 (executed on server)"
#Running dbRDA with robust aitchison
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Figure S4 and Table S4 (executed on server)"
#Running dbRDA with robust aitchison
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Figure S4 and Table S4 (executed on server)"
#Running dbRDA with robust aitchison
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Figure S4 and Table S4 (executed on server)"
#Running dbRDA with robust aitchison
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Figure S4 and Table S4 (executed on server)"
#Running dbRDA with robust aitchison
library(phyloseq)
setwd("D:/Daniel/documentos/GitHub/Root_fungi_DADA2")
pwd()
pwd
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Table S6 (executed on server)"
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Table S6 (executed on server)"
library(phyloseq)
write.csv(tab_s6, out, row.names = FALSE)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Table S6 (executed on server)"
library(phyloseq)
```
```
write.csv(tab_s6, out, row.names = FALSE)
```
dir.create(dirname(out), showWarnings = FALSE, recursive = TRUE)
dir.create(dirname(out), showWarnings = FALSE, recursive = TRUE)
dir.create(dirname(out), showWarnings = FALSE, recursive = TRUE)
dir.create(dirname(out), showWarnings = FALSE, recursive = TRUE)
dir.create(dirname(out), showWarnings = FALSE, recursive = TRUE)
dir.create(dirname(out), showWarnings = FALSE, recursive = TRUE)
dir.create(dirname(out), showWarnings = FALSE, recursive = TRUE)
dir.create(dirname(out), showWarnings = FALSE, recursive = TRUE)
dir.create(dirname(out), showWarnings = FALSE, recursive = TRUE)
dir.create(dirname(out), showWarnings = FALSE, recursive = TRUE)
dir.create(dirname(out), showWarnings = FALSE, recursive = TRUE)
dir.create(dirname(out), showWarnings = FALSE, recursive = TRUE)
dir.create(dirname(out), showWarnings = FALSE, recursive = TRUE)
dir.create(dirname(out), showWarnings = FALSE, recursive = TRUE)
dir.create(dirname(out), showWarnings = FALSE, recursive = TRUE)
out <- "/data/lastexpansion/danieang/objects/Table_S6_centroid_model.csv"
dir.create(dirname(out), showWarnings = FALSE, recursive = TRUE)
write.csv(tab_s6, out, row.names = FALSE)
dir.create(dirname(out), showWarnings = FALSE, recursive = TRUE)
write.csv(tab_s6, out, row.names = FALSE)
```
```
```
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Table S6 (executed on server)"
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Table S6 (executed on server)"
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Table S6 (executed on server)"
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Table S6 (executed on server)"
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Table S6 (executed on server)"
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Table S6 (executed on server)"
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Table S6 (executed on server)"
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Table S6 (executed on server)"
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Table S6 (executed on server)"
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Table S6 (executed on server)"
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Table S6 (executed on server)"
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Table S6 (executed on server)"
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Table S6 (executed on server)"
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Table S6 (executed on server)"
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Table S6 (executed on server)"
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Table S6 (executed on server)"
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Table S6 (executed on server)"
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Table S6 (executed on server)"
library(phyloseq)
#| eval: false
#| echo: true
#| code-fold: true
#| code-summary: "Code used to generate Tables S6a–S6c (executed on server)"
ps <- individual_ps #phyloseq obj
